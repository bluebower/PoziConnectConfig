[User Settings]
Database_File: output\___
Output_Folder: output\

[General Settings]
Description:
    Compare Council property data and Vicmap datasets, and
    generate audit reports
Shared_SQL_Folder: tasks\~Shared\SQL\

[Statistic Table Creation]
OGRInfoOnly: true
Source: {Database_File}
SQL: create table if not exists pc_prop_stats (
        stat_date datetime,
        stat_metric text,
        stat_value integer )
Destination: {Database_File},dummy

[Vicmap Properties]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'vicmap_properties', count(*) from pc_vicmap_property_address
Destination: {Database_File}\pc_prop_stats

[Vicmap Parcels]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'vicmap_parcels', count(*) from ( select distinct parcel_pfi from pc_vicmap_parcel )
Destination: {Database_File}\pc_prop_stats

[Vicmap Parcel Properties]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'vicmap_parcel_properties', count(*) from pc_vicmap_parcel
Destination: {Database_File}\pc_prop_stats

[Council Properties]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'council_properties', count(*) from ( select distinct propnum from pc_council_property_address )
Destination: {Database_File}\pc_prop_stats

[Council Parcels]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'council_parcels', count(*) from ( select distinct spi from pc_council_parcel )
Destination: {Database_File}\pc_prop_stats

[Council Parcel Properties]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'council_parcel_properties', count(*) from pc_council_parcel
Destination: {Database_File}\pc_prop_stats

[Council Properties in Vicmap]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'council_properties_in_vicmap', count(*) from ( select distinct propnum from pc_council_property_address where propnum in ( select propnum from pc_vicmap_property_address ) )
Destination: {Database_File}\pc_prop_stats

[Council Properties not in Vicmap]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'council_properties_not_in_vicmap', count(*) from ( select distinct propnum from pc_council_property_address where propnum not in ( select propnum from pc_vicmap_property_address ) )
Destination: {Database_File}\pc_prop_stats

[Vicmap Parcels not in Council]
Source: {Database_File}
SQL: insert into pc_prop_stats select date('now'), 'vicmap_parcels_not_in_council', count(*) from ( select distinct parcel_pfi from pc_vicmap_parcel where propnum = '' )
Destination: {Database_File}\pc_prop_stats

[CSV Output]
Source: {Database_File},pc_prop_stats
Destination: {Output_Folder}\pc_prop_stats.csv

[JSON Output]
Source: {Database_File},pc_prop_stats
Destination: {Output_Folder}\pc_prop_stats.json
